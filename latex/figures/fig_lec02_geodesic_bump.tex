% fig_lec02_geodesic_bump.tex â€” Geodesics on a Gaussian-bump surface
% Data: generated by scripts/sim_lec02.jl

% Panel (a): 3D surface with geodesics
\begin{center}
\begin{tikzpicture}
\begin{axis}[
    gr3d,
    xlabel={$x$}, ylabel={$y$}, zlabel={$z$},
    title={Geodesics on a Gaussian bump},
    view={-35}{32},
    zmin=-0.05, zmax=1.15,
    xmin=-3, xmax=3,
    ymin=-3, ymax=3,
]
    % Surface mesh (faint)
    \addplot3[
        surf,
        opacity=0.35,
        shader=interp,
        colormap name=grsurface,
        forget plot,
        mesh/rows=80,
    ] table {data/lec02_surface.dat};

    % Geodesics
    \addplot3[cgblue, line width=1.2pt, no markers]
        table {data/lec02_geodesic_1.dat};
    \addplot3[munsell, line width=1.2pt, no markers]
        table {data/lec02_geodesic_2.dat};
    \addplot3[banana!80!black, line width=1.2pt, no markers]
        table {data/lec02_geodesic_3.dat};
    \addplot3[spacecadet, line width=1.2pt, no markers]
        table {data/lec02_geodesic_4.dat};
\end{axis}
\end{tikzpicture}

\bigskip

% Panel (b): Top-down comparison
\begin{tikzpicture}
\begin{axis}[
    grplot,
    width=7cm, height=7cm,
    xlabel={$x$}, ylabel={$y$},
    title={Geodesic (solid) vs.\ Euclidean (dashed)},
    xmin=-3, xmax=3,
    ymin=-3, ymax=3,
    axis equal,
]
    % Geodesics (solid)
    \addplot[cgblue, line width=0.9pt, no markers]
        table[x index=0, y index=1] {data/lec02_geodesic_1.dat};
    \addplot[munsell, line width=0.9pt, no markers]
        table[x index=0, y index=1] {data/lec02_geodesic_2.dat};
    \addplot[banana!80!black, line width=0.9pt, no markers]
        table[x index=0, y index=1] {data/lec02_geodesic_3.dat};
    \addplot[spacecadet, line width=0.9pt, no markers]
        table[x index=0, y index=1] {data/lec02_geodesic_4.dat};

    % Straight lines (dashed)
    \addplot[cgblue!50, line width=0.6pt, dashed, no markers]
        table[x index=0, y index=1] {data/lec02_straight_1.dat};
    \addplot[munsell!50, line width=0.6pt, dashed, no markers]
        table[x index=0, y index=1] {data/lec02_straight_2.dat};
    \addplot[banana!40!black, line width=0.6pt, dashed, no markers]
        table[x index=0, y index=1] {data/lec02_straight_3.dat};
    \addplot[spacecadet!50, line width=0.6pt, dashed, no markers]
        table[x index=0, y index=1] {data/lec02_straight_4.dat};

    % Bump center marker
    \addplot[only marks, mark=+, mark size=4pt, spacecadet!40, thick]
        coordinates {(0,0)};
\end{axis}
\end{tikzpicture}
\end{center}
